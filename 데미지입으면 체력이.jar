import org.bukkit.event.EventHandler;
import org.bukkit.event.Listener;
import org.bukkit.event.entity.EntityDamageEvent;
import org.bukkit.plugin.java.JavaPlugin;
import org.bukkit.entity.Player;

import java.util.Random;

public class RandomHealthPlugin extends JavaPlugin implements Listener {

    @Override
    public void onEnable() {
        getServer().getPluginManager().registerEvents(this, this);
        getLogger().info("RandomHealthPlugin 활성화됨!");
    }

    @Override
    public void onDisable() {
        getLogger().info("RandomHealthPlugin 비활성화됨!");
    }

    @EventHandler
    public void onEntityDamage(EntityDamageEvent event) {
        if (event.getEntity() instanceof Player) {
            Player player = (Player) event.getEntity();
            Random random = new Random();
            int randomHealth = random.nextInt(100) + 1; // 1에서 100 사이의 무작위 수 생성
            player.setHealth(Math.min(randomHealth, player.getMaxHealth())); // 최대 체력 초과 방지
        }
    }
}
